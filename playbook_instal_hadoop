
 - hosts: hadoop_server
   tasks:
   - name: Downloading Hadoop package
     get_url: 
      url: https://archive.apache.org/dist/hadoop/core/hadoop-2.7.3/hadoop-2.7.3.tar.gz 
      dest: /home/hadoop/
   
   - name: Extracting hadoop package
     command: "tar -xvf /home/hadoop/hadoop-2.7.3.tar.gz"
   
   - name: Deleting Hadoop tar package
     file: 
      path: /home/hadoop/hadoop-2.7.3.tar.gz
      state: absent

   - name: Updating .bashrc file with Java and Hadoop variables
     blockinfile:
      dest: /home/hadoop/.bashrc
      block: |
       export JAVA_HOME=$HOME/hadoop/jdk1.8.0_131
       export PATH=$PATH:$JAVA_HOME/bin
       export HADOOP_HOME=$HOME/hadoop/hadoop-2.7.3
       export HADOOP_MAPRED_HOME=$HADOOP_HOME 
       export HADOOP_COMMON_HOME=$HADOOP_HOME 
       export HADOOP_HDFS_HOME=$HADOOP_HOME 
       export YARN_HOME=$HADOOP_HOME 
       export HADOOP_COMMON_LIB_NATIVE_DIR=$HADOOP_HOME/lib/native 
       export PATH=$PATH:$HADOOP_HOME/sbin:$HADOOP_HOME/bin 
       export HADOOP_INSTALL=$HADOOP_HOME

   - name: Applying changes in bashrc file
     command: "touch $HOME/.bashrc" 
